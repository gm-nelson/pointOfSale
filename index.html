<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snack Orders - Sistema de Comandas</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div class="logo-container">
                    <div class="logo" id="logo">S</div>
                </div>
                <div class="business-info">
                    <h1 id="business-name">Snack Orders</h1>
                    <p id="business-contact">
                        <i class="fab fa-whatsapp"></i> +52 123 456 7890
                    </p>
                </div>
                <button class="config-btn" id="configBtn" title="Configuración del sistema">
                    <i class="fas fa-cog"></i>
                    <span>Configuración</span>
                </button>
            </div>
        </header>

        <div class="tabs">
            <div class="tab active" data-tab="orders">
                <i class="fas fa-clipboard-list"></i> Comandas
            </div>
            <div class="tab" data-tab="products">
                <i class="fas fa-hamburger"></i> Productos
            </div>
            <div class="tab" data-tab="customers">
                <i class="fas fa-users"></i> Clientes
            </div>
            <div class="tab" data-tab="suppliers">
                <i class="fas fa-truck"></i> Proveedores
            </div>
            <div class="tab" data-tab="inventory">
                <i class="fas fa-boxes"></i> Inventario
            </div>
            <div class="tab" data-tab="reports">
                <i class="fas fa-chart-bar"></i> Reportes
            </div>
        </div>

        <!-- Contenido de la pestaña Comandas -->
        <div class="tab-content active" id="orders-content">
            <div class="section-title">
                <span>Gestión de Comandas</span>
                <button class="btn btn-primary" id="newOrderBtn" title="Crear nueva orden">
                    <i class="fas fa-plus"></i> Nueva Orden
                </button>
            </div>
            
            <div class="table-container">
                <table id="ordersTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Cliente</th>
                            <th>Productos</th>
                            <th>Total</th>
                            <th>Estado</th>
                            <th>Fecha</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="ordersTableBody">
                        <!-- Las órdenes se cargarán aquí dinámicamente -->
                    </tbody>
                </table>
                <div class="empty-state" id="emptyOrders">
                    <i class="fas fa-clipboard-list"></i>
                    <h3>No hay comandas registradas</h3>
                    <p>Crea tu primera comanda haciendo clic en "Nueva Orden"</p>
                </div>
            </div>
        </div>

        <!-- Contenido de la pestaña Productos -->
        <div class="tab-content" id="products-content">
            <div class="section-title">
                <span>Catálogo de Productos</span>
                <button class="btn btn-primary" id="newProductBtn" title="Agregar nuevo producto">
                    <i class="fas fa-plus"></i> Nuevo Producto
                </button>
            </div>
            
            <div class="product-grid" id="productsGrid">
                <!-- Los productos se cargarán aquí dinámicamente -->
            </div>
            <div class="empty-state" id="emptyProducts">
                <i class="fas fa-hamburger"></i>
                <h3>No hay productos registrados</h3>
                <p>Agrega tu primer producto haciendo clic en "Nuevo Producto"</p>
            </div>
        </div>

        <!-- Contenido de la pestaña Clientes -->
        <div class="tab-content" id="customers-content">
            <div class="section-title">
                <span>Base de Clientes</span>
                <button class="btn btn-primary" id="newCustomerBtn" title="Agregar nuevo cliente">
                    <i class="fas fa-plus"></i> Nuevo Cliente
                </button>
            </div>
            
            <div class="table-container">
                <table id="customersTable">
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>Teléfono</th>
                            <th>Órdenes</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="customersTableBody">
                        <!-- Los clientes se cargarán aquí dinámicamente -->
                    </tbody>
                </table>
                <div class="empty-state" id="emptyCustomers">
                    <i class="fas fa-users"></i>
                    <h3>No hay clientes registrados</h3>
                    <p>Agrega tu primer cliente haciendo clic en "Nuevo Cliente"</p>
                </div>
            </div>
        </div>

        <!-- Contenido de la pestaña Proveedores -->
        <div class="tab-content" id="suppliers-content">
            <div class="section-title">
                <span>Gestión de Proveedores</span>
                <div>
                    <button class="btn btn-primary" id="newSupplierBtn" title="Agregar nuevo proveedor">
                        <i class="fas fa-plus"></i> Nuevo Proveedor
                    </button>
                    <button class="btn btn-secondary" id="openPurchaseOrderModalBtn" title="Generar orden de compra">
                        <i class="fas fa-file-invoice"></i> Orden de Compra
                    </button>
                </div>
            </div>
            
            <div class="table-container">
                <div class="table-actions">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="searchSuppliers" placeholder="Buscar proveedor...">
                    </div>
                </div>
                <table id="suppliersTable">
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>Teléfono</th>
                            <th>Ingredientes</th>
                            <th>Última Compra</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="suppliersTableBody">
                        <!-- Los proveedores se cargarán aquí dinámicamente -->
                    </tbody>
                </table>
                <div class="empty-state" id="emptySuppliers">
                    <i class="fas fa-truck"></i>
                    <h3>No hay proveedores registrados</h3>
                    <p>Agrega tu primer proveedor para comenzar a gestionar compras</p>
                </div>
            </div>
            
            <!-- Sección de órdenes de compra -->
            <div class="pending-purchases" style="margin-top: 40px;">
                <h3 style="margin-bottom: 20px;">
                    <i class="fas fa-file-invoice"></i> Órdenes de Compra
                </h3>
                <div class="table-actions">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="searchPurchaseOrders" placeholder="Buscar órdenes de compra...">
                    </div>
                </div>
                <div class="table-container">
                    <table id="purchaseOrdersTable">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Proveedor</th>
                                <th>Ingredientes</th>
                                <th>Cantidad Total</th>
                                <th>Estado</th>
                                <th>Fecha</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="purchaseOrdersTableBody">
                            <!-- Órdenes de compra -->
                        </tbody>
                    </table>
                    <div class="empty-state" id="emptyPurchaseOrders">
                        <i class="fas fa-file-invoice"></i>
                        <h3>No hay órdenes de compra</h3>
                        <p>Genera tu primera orden de compra haciendo clic en "Orden de Compra"</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Contenido de la pestaña Inventario -->
        <div class="tab-content" id="inventory-content">
            <div class="section-title">
                <span>Gestión de Inventario y Compras</span>
                <div>
                    <button class="btn btn-secondary" id="newPurchaseBtn" title="Registrar nueva compra">
                        <i class="fas fa-shopping-cart"></i> Nueva Compra
                    </button>
                    <button class="btn btn-primary" id="newIngredientBtn" title="Agregar nuevo ingrediente">
                        <i class="fas fa-plus"></i> Nuevo Ingrediente
                    </button>
                </div>
            </div>
            
            <!-- Filtros y resumen rápido -->
            <div class="inventory-summary">
                <div class="summary-card alert">
                    <i class="fas fa-exclamation-triangle"></i>
                    <div>
                        <h3 id="lowStockCount">0</h3>
                        <p>Productos con stock bajo</p>
                    </div>
                </div>
                <div class="summary-card">
                    <i class="fas fa-box"></i>
                    <div>
                        <h3 id="totalIngredients">0</h3>
                        <p>Ingredientes en inventario</p>
                    </div>
                </div>
                <div class="summary-card">
                    <i class="fas fa-money-bill-wave"></i>
                    <div>
                        <h3 id="inventoryValue">$0.00</h3>
                        <p>Valor total inventario</p>
                    </div>
                </div>
                <div class="summary-card">
                    <i class="fas fa-history"></i>
                    <div>
                        <h3 id="pendingOrders">0</h3>
                        <p>Órdenes pendientes</p>
                    </div>
                </div>
            </div>
            
            <!-- Tabs internas para Inventario -->
            <div class="inventory-tabs">
                <button class="inv-tab active" data-inv-tab="ingredients">Ingredientes</button>
                <button class="inv-tab" data-inv-tab="recipes">Recetas</button>
                <button class="inv-tab" data-inv-tab="purchases">Historial de Compras</button>
                <button class="inv-tab" data-inv-tab="alerts">Alertas</button>
            </div>
            
            <!-- Contenido de Ingredientes -->
            <div class="inv-tab-content active" id="ingredients-content">
                <div class="table-container">
                    <div class="table-actions">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="searchIngredients" placeholder="Buscar ingrediente...">
                        </div>
                        <button class="btn btn-sm btn-secondary" id="exportInventoryBtn">
                            <i class="fas fa-download"></i> Exportar
                        </button>
                    </div>
                    <table id="ingredientsTable">
                        <thead>
                            <tr>
                                <th>Nombre</th>
                                <th>Categoría</th>
                                <th>Stock Actual</th>
                                <th>Unidad</th>
                                <th>Stock Mínimo</th>
                                <th>Proveedores</th>
                                <th>Último Costo</th>
                                <th>Valor en Inventario</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="ingredientsTableBody">
                            <!-- Los ingredientes se cargarán aquí -->
                        </tbody>
                    </table>
                    <div class="empty-state" id="emptyIngredients">
                        <i class="fas fa-box-open"></i>
                        <h3>No hay ingredientes registrados</h3>
                        <p>Agrega tu primer ingrediente haciendo clic en "Nuevo Ingrediente"</p>
                    </div>
                </div>
            </div>
            
            <!-- Contenido de Recetas -->
            <div class="inv-tab-content" id="recipes-content">
                <div class="recipes-container">
                    <div class="products-sidebar">
                        <h3>Productos</h3>
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="searchProductsRecipe" placeholder="Buscar producto...">
                        </div>
                        <div class="product-list" id="recipeProductList">
                            <!-- Lista de productos para asignar recetas -->
                        </div>
                    </div>
                    <div class="recipe-detail">
                        <div id="noRecipeSelected">
                            <i class="fas fa-mortar-pestle"></i>
                            <h3>Selecciona un producto</h3>
                            <p>Selecciona un producto de la lista para ver o editar su receta</p>
                        </div>
                        <div id="recipeEditor" style="display: none;">
                            <h3>Receta para: <span id="recipeProductName"></span></h3>
                            <div class="recipe-ingredients" id="recipeIngredientsList">
                                <!-- Ingredientes de la receta actual -->
                            </div>
                            <button class="btn btn-primary" id="addIngredientToRecipe">
                                <i class="fas fa-plus"></i> Agregar Ingrediente
                            </button>
                            <div style="margin-top: 20px;">
                                <button class="btn btn-success" id="saveRecipeBtn">
                                    <i class="fas fa-save"></i> Guardar Receta
                                </button>
                                <button class="btn btn-secondary" id="calculateCostBtn">
                                    <i class="fas fa-calculator"></i> Calcular Costo
                                </button>
                            </div>
                            <div class="recipe-summary" id="recipeSummary" style="margin-top: 20px; display: none;">
                                <h4>Resumen de Costos</h4>
                                <p>Costo total de ingredientes: <strong id="recipeTotalCost">$0.00</strong></p>
                                <p>Margen estimado: <strong id="recipeMargin">0%</strong></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Contenido de Compras -->
            <div class="inv-tab-content" id="purchases-content">
                <div class="table-container">
                    <table id="purchasesTable">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Proveedor</th>
                                <th>Ingredientes</th>
                                <th>Cantidad</th>
                                <th>Costo Total</th>
                                <th>Fecha</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="purchasesTableBody">
                            <!-- Las compras se cargarán aquí -->
                        </tbody>
                    </table>
                    <div class="empty-state" id="emptyPurchases">
                        <i class="fas fa-shopping-cart"></i>
                        <h3>No hay compras registradas</h3>
                        <p>Registra tu primera compra haciendo clic en "Nueva Compra"</p>
                    </div>
                </div>
            </div>
            
            <!-- Contenido de Alertas -->
            <div class="inv-tab-content" id="alerts-content">
                <div class="alerts-container" id="alertsList">
                    <!-- Las alertas se mostrarán aquí -->
                </div>
                <div class="empty-state" id="emptyAlerts">
                    <i class="fas fa-bell-slash"></i>
                    <h3>No hay alertas activas</h3>
                    <p>¡Todo está bajo control!</p>
                </div>
            </div>
        </div>

        <!-- Nueva pestaña de Reportes -->
        <div class="tab-content" id="reports-content">
            <div class="section-title">
                <span>Reportes y Estadísticas</span>
                <button class="btn btn-primary" id="refreshReportsBtn" title="Actualizar reportes">
                    <i class="fas fa-sync-alt"></i> Actualizar
                </button>
            </div>
            
            <div class="report-grid" id="reportsGrid">
                <div class="report-card" onclick="generateReport('sales')">
                    <i class="fas fa-chart-line"></i>
                    <h3>Ventas por Período</h3>
                    <p>Análisis de ventas diarias, semanales y mensuales</p>
                    <button class="btn btn-sm btn-primary">Ver Reporte</button>
                </div>
                
                <div class="report-card" onclick="generateReport('products')">
                    <i class="fas fa-star"></i>
                    <h3>Productos Más Vendidos</h3>
                    <p>Top 10 productos por volumen de ventas</p>
                    <button class="btn btn-sm btn-primary">Ver Reporte</button>
                </div>
                
                <div class="report-card" onclick="generateReport('customers')">
                    <i class="fas fa-crown"></i>
                    <h3>Clientes Más Frecuentes</h3>
                    <p>Clientes con mayor número de pedidos</p>
                    <button class="btn btn-sm btn-primary">Ver Reporte</button>
                </div>
                
                <div class="report-card" onclick="generateReport('financial')">
                    <i class="fas fa-money-bill-wave"></i>
                    <h3>Estado Financiero</h3>
                    <p>Ingresos, gastos y ganancias netas</p>
                    <button class="btn btn-sm btn-primary">Ver Reporte</button>
                </div>
                
                <div class="report-card" onclick="generateReport('trends')">
                    <i class="fas fa-chart-bar"></i>
                    <h3>Tendencias de Ventas</h3>
                    <p>Análisis de tendencias y pronósticos</p>
                    <button class="btn btn-sm btn-primary">Ver Reporte</button>
                </div>
            </div>
            
            <div id="reportDetailContainer" style="display: none;">
                <div class="report-detail" id="reportDetail">
                    <!-- Los detalles del reporte se cargarán aquí dinámicamente -->
                </div>
            </div>
        </div>

        <!-- Modal para crear/editar producto -->
        <div class="modal" id="productModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="productModalTitle">Nuevo Producto</h2>
                    <button class="btn btn-secondary btn-sm" id="closeProductModal" title="Cerrar">X</button>
                </div>
                <div class="modal-body">
                    <form id="productForm">
                        <input type="hidden" id="productId">
                        <div class="form-group">
                            <label for="productName">Nombre del producto *</label>
                            <input type="text" id="productName" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="productPrice">Precio unitario *</label>
                            <input type="number" id="productPrice" class="form-control" min="0" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="productImage">URL de la imagen (opcional)</label>
                            <input type="text" id="productImage" class="form-control" placeholder="https://ejemplo.com/imagen.jpg">
                            <small>Si no se proporciona, se usará una imagen por defecto</small>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-primary" style="width: 100%;">
                                <i class="fas fa-save"></i> Guardar Producto
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Modal para crear/editar cliente -->
        <div class="modal" id="customerModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="customerModalTitle">Nuevo Cliente</h2>
                    <button class="btn btn-secondary btn-sm" id="closeCustomerModal" title="Cerrar">X</button>
                </div>
                <div class="modal-body">
                    <form id="customerForm">
                        <input type="hidden" id="customerId">
                        <div class="form-group">
                            <label for="customerName">Nombre completo *</label>
                            <input type="text" id="customerName" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="customerPhone">Teléfono (opcional)</label>
                            <input type="tel" id="customerPhone" class="form-control" placeholder="+52 123 456 7890">
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-primary" style="width: 100%;">
                                <i class="fas fa-save"></i> Guardar Cliente
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Modal para crear/editar proveedor -->
        <div class="modal" id="supplierModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="supplierModalTitle">Nuevo Proveedor</h2>
                    <button class="btn btn-secondary btn-sm" id="closeSupplierModal" title="Cerrar">X</button>
                </div>
                <div class="modal-body">
                    <form id="supplierForm">
                        <input type="hidden" id="supplierId">
                        <div class="form-group">
                            <label for="supplierName">Nombre del proveedor *</label>
                            <input type="text" id="supplierName" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="supplierPhone">Teléfono (WhatsApp) *</label>
                            <input type="tel" id="supplierPhone" class="form-control" required placeholder="+52 123 456 7890">
                        </div>
                        <div class="form-group">
                            <label for="supplierEmail">Correo electrónico (opcional)</label>
                            <input type="email" id="supplierEmail" class="form-control" placeholder="proveedor@ejemplo.com">
                        </div>
                        <div class="form-group">
                            <label for="supplierAddress">Dirección (opcional)</label>
                            <textarea id="supplierAddress" class="form-control" rows="2" placeholder="Calle y número, Ciudad, Estado"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="supplierNotes">Notas adicionales (opcional)</label>
                            <textarea id="supplierNotes" class="form-control" rows="3" placeholder="Horarios de entrega, condiciones de pago, etc."></textarea>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-primary" style="width: 100%;">
                                <i class="fas fa-save"></i> Guardar Proveedor
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Modal para crear/editar ingrediente (MEJORADO CON PROVEEDORES) -->
        <div class="modal" id="ingredientModal">
            <div class="modal-content" style="max-width: 700px;">
                <div class="modal-header">
                    <h2 id="ingredientModalTitle">Nuevo Ingrediente</h2>
                    <button class="btn btn-secondary btn-sm" id="closeIngredientModal" title="Cerrar">X</button>
                </div>
                <div class="modal-body">
                    <form id="ingredientForm">
                        <input type="hidden" id="ingredientId">
                        <div class="form-group">
                            <label for="ingredientName">Nombre del ingrediente *</label>
                            <input type="text" id="ingredientName" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="ingredientCategory">Categoría *</label>
                            <select id="ingredientCategory" class="form-control" required>
                                <option value="">Selecciona una categoría</option>
                                <option value="proteina">Proteína (carnes)</option>
                                <option value="lacteo">Lácteo</option>
                                <option value="vegetal">Vegetal</option>
                                <option value="granos">Granos y cereales</option>
                                <option value="condimentos">Condimentos y especias</option>
                                <option value="aceites">Aceites y grasas</option>
                                <option value="bebidas">Bebidas</option>
                                <option value="empaques">Empaques</option>
                                <option value="otros">Otros</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="ingredientUnit">Unidad de medida *</label>
                            <select id="ingredientUnit" class="form-control" required>
                                <option value="">Selecciona una unidad</option>
                                <option value="kg">Kilogramos (kg)</option>
                                <option value="g">Gramos (g)</option>
                                <option value="l">Litros (l)</option>
                                <option value="ml">Mililitros (ml)</option>
                                <option value="pz">Piezas (pz)</option>
                                <option value="paq">Paquetes (paq)</option>
                                <option value="caja">Cajas</option>
                                <option value="botella">Botellas</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Proveedores disponibles</label>
                            <div class="suppliers-selector" id="suppliersSelector">
                                <!-- Los proveedores se cargarán aquí dinámicamente -->
                            </div>
                            <small>Selecciona uno o más proveedores para este ingrediente</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="ingredientPreferredSupplier">Proveedor preferido</label>
                            <select id="ingredientPreferredSupplier" class="form-control">
                                <option value="">Selecciona un proveedor preferido</option>
                                <!-- Se llenará dinámicamente -->
                            </select>
                            <small>Selecciona automáticamente al generar órdenes de compra</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="ingredientStock">Stock actual *</label>
                            <input type="number" id="ingredientStock" class="form-control" min="0" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="ingredientMinStock">Stock mínimo (alerta) *</label>
                            <input type="number" id="ingredientMinStock" class="form-control" min="0" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="ingredientCost">Costo unitario (último precio) *</label>
                            <input type="number" id="ingredientCost" class="form-control" min="0" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="ingredientLocation">Ubicación en almacén (opcional)</label>
                            <input type="text" id="ingredientLocation" class="form-control" placeholder="Ej: Estante A, Nivel 3">
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-primary" style="width: 100%;">
                                <i class="fas fa-save"></i> Guardar Ingrediente
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Modal para generar orden de compra (MODIFICADO PARA USAR PRODUCTOS Y PROVEEDORES) -->
        <!-- Modal para generar orden de compra (CON SCROLLBARS) -->
<div class="modal" id="purchaseOrderModal">
    <div class="modal-content" style="max-width: 1400px; width: 95vw; height: 90vh;">
        <div class="modal-header">
            <h2 id="purchaseOrderModalTitle">Generar Orden de Compra</h2>
            <button class="btn btn-secondary btn-sm" id="closePurchaseOrderModal" title="Cerrar">X</button>
        </div>
        <div class="modal-body" style="flex: 1; min-height: 0; overflow: hidden;">
            <div class="purchase-order-container">
                <!-- Panel izquierdo: Ingredientes disponibles -->
                <div class="purchase-ingredients-panel">
                    <h3><i class="fas fa-boxes"></i> Ingredientes Disponibles</h3>
                    <div class="search-box" style="margin-bottom: 15px;">
                        <i class="fas fa-search"></i>
                        <input type="text" id="searchPurchaseIngredients" placeholder="Buscar ingrediente..." onkeyup="filterPurchaseIngredients()">
                    </div>
                    <div class="ingredients-grid-container">
                        <div class="ingredients-grid" id="purchaseIngredientsGrid">
                            <!-- Los ingredientes se cargarán aquí dinámicamente -->
                        </div>
                    </div>
                </div>
                
                <!-- Panel derecho: Ingredientes seleccionados y vista previa -->
                <div class="purchase-order-preview">
                    <div class="purchase-order-summary">
                        <h3><i class="fas fa-shopping-cart"></i> Orden de Compra</h3>
                        
                        <div class="order-stats">
                            <div class="stat-item">
                                <i class="fas fa-box"></i>
                                <span id="selectedCount">0</span>
                                <small>Ingredientes</small>
                            </div>
                            <div class="stat-item">
                                <i class="fas fa-list-ol"></i>
                                <span id="totalQuantity">0</span>
                                <small>Unidades</small>
                            </div>
                            <div class="stat-item">
                                <i class="fas fa-truck"></i>
                                <span id="supplierCount">0</span>
                                <small>Proveedores</small>
                            </div>
                        </div>
                        
                        <div class="selected-ingredients-container">
                            <div class="selected-ingredients" id="purchaseSelectedIngredients">
                                <p class="empty-message">No hay ingredientes seleccionados. Agrega ingredientes a la orden.</p>
                            </div>
                        </div>
                        
                        <div class="purchase-order-details">
                            <div class="form-group">
                                <label for="purchaseOrderNotes">Notas para el proveedor (opcional):</label>
                                <textarea id="purchaseOrderNotes" class="form-control" rows="3" placeholder="Instrucciones especiales, horarios de entrega, etc."></textarea>
                            </div>
                            
                            <div class="preview-controls">
                                <button type="button" class="btn btn-sm btn-secondary" onclick="autoAssignSuppliers()">
                                    <i class="fas fa-robot"></i> Asignar Automáticamente
                                </button>
                                <button type="button" class="btn btn-sm btn-secondary" onclick="clearSupplierAssignments()">
                                    <i class="fas fa-eraser"></i> Limpiar Asignaciones
                                </button>
                            </div>
                            
                            <div class="supplier-orders-preview-container">
                                <div class="supplier-orders-preview" id="supplierOrdersPreview">
                                    <!-- Se generará dinámicamente la agrupación por proveedor -->
                                    <div class="empty-message">
                                        <i class="fas fa-info-circle"></i>
                                        <p>Agrega ingredientes y asigna proveedores para ver la vista previa.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="purchase-order-actions">
                            <button type="button" class="btn btn-secondary" onclick="clearPurchaseOrder()">
                                <i class="fas fa-trash"></i> Limpiar Todo
                            </button>
                            <button type="button" class="btn btn-primary" onclick="generatePurchaseOrders(event)">
                                <i class="fas fa-file-pdf"></i> Generar Órdenes de Compra
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

        <!-- Modal para confirmar recepción de compra -->
        <div class="modal" id="confirmPurchaseModal">
            <div class="modal-content" style="max-width: 800px;">
                <div class="modal-header">
                    <h2>Confirmar Recepción de Compra</h2>
                    <button class="btn btn-secondary btn-sm" onclick="closeModal(this.closest('.modal'))" title="Cerrar">X</button>
                </div>
                <div class="modal-body">
                    <form id="confirmPurchaseForm" onsubmit="confirmPurchase(event)">
                        <input type="hidden" id="confirmPurchaseOrderId">
                        
                        <div id="confirmPurchaseOrderInfo">
                            <!-- Información de la orden -->
                        </div>
                        
                        <div class="form-group">
                            <h4>Ingredientes recibidos:</h4>
                            <div id="confirmPurchaseItems">
                                <!-- Items de la orden con controles para ajustar cantidades -->
                            </div>
                            <small>Ajusta las cantidades según lo recibido. Los cambios se reflejarán en el inventario.</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="confirmPurchaseNotes">Notas de recepción (opcional):</label>
                            <textarea id="confirmPurchaseNotes" class="form-control" rows="3" placeholder="Observaciones sobre la entrega..."></textarea>
                        </div>
                        
                        <div class="form-group" style="margin-top: 30px;">
                            <button type="submit" class="btn btn-success" style="width: 100%;">
                                <i class="fas fa-check"></i> Confirmar Recepción y Actualizar Inventario
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Modal para registrar compra directa -->
        <div class="modal" id="purchaseModal">
            <div class="modal-content" style="max-width: 800px;">
                <div class="modal-header">
                    <h2 id="purchaseModalTitle">Registrar Nueva Compra</h2>
                    <button class="btn btn-secondary btn-sm" id="closePurchaseModal" title="Cerrar">X</button>
                </div>
                <div class="modal-body">
                    <form id="purchaseForm">
                        <div class="form-group">
                            <label for="purchaseSupplier">Proveedor *</label>
                            <select id="purchaseSupplier" class="form-control" required>
                                <option value="">Selecciona un proveedor</option>
                                <!-- Se llenará con proveedores disponibles -->
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="purchaseDate">Fecha de compra *</label>
                            <input type="datetime-local" id="purchaseDate" class="form-control" required>
                        </div>
                        
                        <h3>Ingredientes comprados</h3>
                        <div id="purchaseItemsContainer">
                            <div class="purchase-item">
                                <div class="purchase-item-row">
                                    <select class="purchase-ingredient-select form-control" required>
                                        <option value="">Selecciona ingrediente</option>
                                        <!-- Se llenará con ingredientes disponibles -->
                                    </select>
                                    <input type="number" class="purchase-quantity form-control" min="0.01" step="0.01" placeholder="Cantidad" required>
                                    <input type="number" class="purchase-unit-cost form-control" min="0" step="0.01" placeholder="Costo unitario" required>
                                    <button type="button" class="btn btn-sm btn-danger remove-purchase-item" onclick="removePurchaseItem(this)">X</button>
                                </div>
                                <div class="purchase-item-info">
                                    <span class="item-name"></span>
                                    <span class="item-total">Total: $0.00</span>
                                </div>
                            </div>
                        </div>
                        
                        <button type="button" class="btn btn-secondary" id="addPurchaseItemBtn">
                            <i class="fas fa-plus"></i> Agregar otro ingrediente
                        </button>
                        
                        <div class="purchase-summary" style="margin-top: 20px;">
                            <h4>Resumen de compra</h4>
                            <div class="summary-row">
                                <span>Subtotal:</span>
                                <span id="purchaseSubtotal">$0.00</span>
                            </div>
                            <div class="summary-row">
                                <span>IVA (16%):</span>
                                <span id="purchaseIva">$0.00</span>
                            </div>
                            <div class="summary-row total">
                                <span>Total de compra:</span>
                                <span id="purchaseTotal">$0.00</span>
                            </div>
                        </div>
                        
                        <div class="form-group" style="margin-top: 30px;">
                            <button type="submit" class="btn btn-success" style="width: 100%;">
                                <i class="fas fa-check"></i> Registrar Compra
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Modal para agregar ingrediente a receta -->
        <div class="modal" id="recipeIngredientModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Agregar Ingrediente a Receta</h2>
                    <button class="btn btn-secondary btn-sm" id="closeRecipeIngredientModal" title="Cerrar">X</button>
                </div>
                <div class="modal-body">
                    <form id="recipeIngredientForm">
                        <div class="form-group">
                            <label for="selectRecipeIngredient">Ingrediente *</label>
                            <select id="selectRecipeIngredient" class="form-control" required>
                                <option value="">Selecciona un ingrediente</option>
                                <!-- Se llenará con ingredientes disponibles -->
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="recipeIngredientQuantity">Cantidad necesaria *</label>
                            <input type="number" id="recipeIngredientQuantity" class="form-control" min="0.001" step="0.001" required>
                            <small id="recipeIngredientUnit"></small>
                        </div>
                        <div class="form-group">
                            <label for="recipeIngredientWaste">Porcentaje de merma/desperdicio (%)</label>
                            <input type="number" id="recipeIngredientWaste" class="form-control" min="0" max="100" step="0.1" value="5">
                            <small>Considera el porcentaje que se pierde en preparación</small>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-primary" style="width: 100%;">
                                <i class="fas fa-plus"></i> Agregar a Receta
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Modal para crear nueva orden -->
        <div class="modal" id="orderModal">
            <div class="modal-content" style="max-width: 800px;">
                <div class="modal-header">
                    <h2 id="orderModalTitle">Nueva Orden</h2>
                    <button class="btn btn-secondary btn-sm" id="closeOrderModal" title="Cerrar">X</button>
                </div>
                <div class="modal-body">
                    <div class="step-container">
                        <div class="step active" id="step1">
                            <div class="step-number">1</div>
                            <div class="step-text">Cliente</div>
                        </div>
                        <div class="step-line"></div>
                        <div class="step" id="step2">
                            <div class="step-number">2</div>
                            <div class="step-text">Productos</div>
                        </div>
                        <div class="step-line"></div>
                        <div class="step" id="step3">
                            <div class="step-number">3</div>
                            <div class="step-text">Confirmar</div>
                        </div>
                    </div>

                    <!-- Paso 1: Selección de cliente -->
                    <div id="orderStep1" class="order-step">
                        <h3>Seleccionar cliente</h3>
                        <p>Elige un cliente existente o crea uno nuevo</p>
                        
                        <div class="customer-selector" id="customerSelector">
                            <!-- Los clientes se cargarán aquí dinámicamente -->
                        </div>
                        
                        <div style="text-align: center; margin-top: 20px;">
                            <button class="btn btn-primary" id="selectCustomerBtn" disabled>
                                <i class="fas fa-user"></i> Usar este cliente
                            </button>
                            <button class="btn btn-secondary" id="newCustomerInOrderBtn">
                                <i class="fas fa-plus"></i> Crear nuevo cliente
                            </button>
                        </div>
                    </div>

                    <!-- Paso 2: Selección de productos -->
                    <div id="orderStep2" class="order-step" style="display: none;">
                        <h3>Seleccionar productos</h3>
                        <p>Elige los productos y cantidades para la orden</p>
                        
                        <div class="product-grid" id="orderProductsGrid">
                            <!-- Los productos para la orden se cargarán aquí dinámicamente -->
                        </div>
                        
                        <div class="order-products" id="orderSelectedProducts">
                            <!-- Los productos seleccionados se mostrarán aquí -->
                        </div>
                        
                        <div class="order-summary" id="orderSummary">
                            <h3>Resumen de la orden</h3>
                            <div class="summary-row">
                                <span>Subtotal:</span>
                                <span id="subtotal">$0.00</span>
                            </div>
                            <div class="summary-row">
                                <span>IVA (16%):</span>
                                <span id="iva">$0.00</span>
                            </div>
                            <div class="summary-row total">
                                <span>Total:</span>
                                <span id="total">$0.00</span>
                            </div>
                        </div>
                        
                        <div style="display: flex; justify-content: space-between; margin-top: 20px;">
                            <button class="btn btn-secondary" id="backToStep1Btn">
                                <i class="fas fa-arrow-left"></i> Volver
                            </button>
                            <button class="btn btn-primary" id="goToStep3Btn">
                                Continuar <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>
<!-- Paso 3: Confirmación -->
<div id="orderStep3" class="order-step" style="display: none;">
    <h3>Confirmar orden</h3>
    <p>Revisa los detalles de la orden antes de guardar</p>
    
    <div class="order-detail-card">
        <h4>Cliente: <span id="confirmCustomerName">-</span></h4>
        <p>Teléfono: <span id="confirmCustomerPhone">-</span></p>
        <p>Método de Pago: <span id="confirmPaymentMethod">Efectivo</span></p>
        
        <h4 style="margin-top: 20px;">Productos:</h4>
        <div id="confirmProductsList">
            <!-- Los productos confirmados se mostrarán aquí -->
        </div>
        
        <div class="order-summary" style="margin-top: 20px;">
            <div class="summary-row">
                <span>Subtotal:</span>
                <span id="confirmSubtotal">$0.00</span>
            </div>
            <div class="summary-row">
                <span>IVA (16%):</span>
                <span id="confirmIva">$0.00</span>
            </div>
            <div class="summary-row total">
                <span>Total:</span>
                <span id="confirmTotal">$0.00</span>
            </div>
        </div>
        
        <!-- Sección de método de pago -->
        <div style="margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 8px;">
            <h4 style="margin-bottom: 10px;">Método de Pago</h4>
            <div style="display: flex; flex-wrap: wrap; gap: 15px;">
                <div style="display: flex; align-items: center;">
                    <input type="radio" id="paymentCash" name="paymentMethod" value="cash" checked 
                           onchange="updateConfirmationInfo()">
                    <label for="paymentCash" style="margin-left: 5px; cursor: pointer;">
                        <i class="fas fa-money-bill-wave" style="color: #28a745; margin-right: 5px;"></i>
                        Efectivo
                    </label>
                </div>
                <div style="display: flex; align-items: center;">
                    <input type="radio" id="paymentCredit" name="paymentMethod" value="credit" 
                           onchange="updateConfirmationInfo()">
                    <label for="paymentCredit" style="margin-left: 5px; cursor: pointer;">
                        <i class="fas fa-credit-card" style="color: #007bff; margin-right: 5px;"></i>
                        Tarjeta de Crédito
                    </label>
                </div>
                <div style="display: flex; align-items: center;">
                    <input type="radio" id="paymentDebit" name="paymentMethod" value="debit" 
                           onchange="updateConfirmationInfo()">
                    <label for="paymentDebit" style="margin-left: 5px; cursor: pointer;">
                        <i class="fas fa-credit-card" style="color: #17a2b8; margin-right: 5px;"></i>
                        Tarjeta de Débito
                    </label>
                </div>
                <div style="display: flex; align-items: center;">
                    <input type="radio" id="paymentTransfer" name="paymentMethod" value="transfer" 
                           onchange="updateConfirmationInfo()">
                    <label for="paymentTransfer" style="margin-left: 5px; cursor: pointer;">
                        <i class="fas fa-university" style="color: #6f42c1; margin-right: 5px;"></i>
                        Transferencia
                    </label>
                </div>
            </div>
        </div>
    </div>
    
    <div style="display: flex; justify-content: space-between; margin-top: 20px;">
        <button class="btn btn-secondary" id="backToStep2Btn" onclick="goToStep2FromStep3()">
            <i class="fas fa-arrow-left"></i> Volver
        </button>
        <button class="btn btn-success" id="saveOrderBtn" onclick="saveOrder()">
            <i class="fas fa-check"></i> Guardar Orden
        </button>
    </div>
</div>
                </div>
            </div>
        </div>

        <!-- Modal de configuración mejorado -->
        <div class="modal" id="configModal">
            <div class="modal-content" style="max-width: 700px;">
                <div class="modal-header">
                    <h2>Configuración del Sistema</h2>
                    <button class="btn btn-secondary btn-sm" id="closeConfigModal" title="Cerrar">X</button>
                </div>
                <div class="modal-body">
                    <form id="configForm">
                        <div class="form-group">
                            <label>Logo del negocio</label>
                            <div class="logo-preview" id="logoPreview">
                                <span>S</span>
                            </div>
                            <input type="text" id="configLogo" class="form-control" placeholder="URL del logo (opcional)">
                            <small>Recomendado: 200x200px, formato PNG o JPG</small>
                        </div>
                        
                        
                        <div class="form-group">
                            <label for="configBusinessName">Nombre del negocio *</label>
                            <input type="text" id="configBusinessName" class="form-control" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="configWhatsApp">Número de WhatsApp *</label>
                            <input type="text" id="configWhatsApp" class="form-control" required placeholder="+52 123 456 7890">
                        </div>
                        
                        <div class="form-group">
                            <label for="configAddress">Dirección (opcional)</label>
                            <input type="text" id="configAddress" class="form-control" placeholder="Calle y número, Ciudad, Estado">
                        </div>
                        
                        <div class="form-group">
                            <label for="configRFC">RFC (opcional)</label>
                            <input type="text" id="configRFC" class="form-control" placeholder="RFC para facturación">
                        </div>

                        
                        
                        <hr style="margin: 30px 0;">
                        
                        <h3>Personalización de Colores</h3>
                        <p>Cambia la apariencia del sistema</p>
                        
                        <div class="color-palette">
                            <div class="color-option" onclick="selectColorTheme('default')">
                                <div class="color-preview" style="background: #FF6B35;"></div>
                                <div>Por defecto</div>
                            </div>
                            <div class="color-option" onclick="selectColorTheme('professional')">
                                <div class="color-preview" style="background: #2C3E50;"></div>
                                <div>Profesional</div>
                            </div>
                            <div class="color-option" onclick="selectColorTheme('modern')">
                                <div class="color-preview" style="background: #3498DB;"></div>
                                <div>Moderno</div>
                            </div>
                            <div class="color-option" onclick="selectColorTheme('vibrant')">
                                <div class="color-preview" style="background: #9B59B6;"></div>
                                <div>Vibrante</div>
                            </div>
                            <div class="color-option" onclick="selectColorTheme('dark')">
                                <div class="color-preview" style="background: #34495E;"></div>
                                <div>Oscuro</div>
                            </div>
                            <div class="color-option" onclick="selectColorTheme('custom')">
                                <div class="color-preview" id="customColorPreview" style="background: #FF6B35;"></div>
                                <div>Personalizado</div>
                            </div>
                        </div>
                        
                        <div id="customColorControls" style="margin-top: 20px; display: none;">
                            <h4>Colores personalizados:</h4>
                            <div class="color-input-group">
                                <label>Primario:</label>
                                <input type="color" id="colorPrimary" value="#FF6B35" class="color-input">
                                <input type="text" id="colorPrimaryText" value="#FF6B35" class="form-control" style="width: 100px;">
                            </div>
                            <div class="color-input-group">
                                <label>Secundario:</label>
                                <input type="color" id="colorSecondary" value="#004E89" class="color-input">
                                <input type="text" id="colorSecondaryText" value="#004E89" class="form-control" style="width: 100px;">
                            </div>
                            <div class="color-input-group">
                                <label>Fondo:</label>
                                <input type="color" id="colorBackground" value="#f5f7fa" class="color-input">
                                <input type="text" id="colorBackgroundText" value="#f5f7fa" class="form-control" style="width: 100px;">
                            </div>
                            <div class="color-input-group">
                                <label>Texto:</label>
                                <input type="color" id="colorText" value="#212529" class="color-input">
                                <input type="text" id="colorTextText" value="#212529" class="form-control" style="width: 100px;">
                            </div>
                            <button type="button" class="btn btn-sm btn-secondary" onclick="applyCustomColors()" style="margin-top: 10px;">
                                <i class="fas fa-paint-brush"></i> Aplicar Colores
                            </button>
                        </div>
                        
                        <hr style="margin: 30px 0;">
                        
                        <h3>Gestión de datos</h3>
                        <p>Exporta o importa todos los datos del sistema</p>
                        
                        <div class="data-actions">
                            <button type="button" class="btn btn-secondary" id="exportDataBtn" title="Exportar todos los datos">
                                <i class="fas fa-download"></i> Exportar Datos
                            </button>
                            <button type="button" class="btn btn-secondary" id="importDataBtn" title="Importar datos desde archivo">
                                <i class="fas fa-upload"></i> Importar Datos
                            </button>
                            <button type="button" class="btn btn-danger" id="clearDataBtn" title="Borrar todos los datos">
                                <i class="fas fa-trash"></i> Borrar Todo
                            </button>
                        </div>
                        
                        <div class="import-options" id="importOptions" style="display: none;">
                            <h4>Opciones de importación:</h4>
                            <p>Selecciona qué datos quieres importar:</p>
                            <div class="import-option">
                                <input type="checkbox" id="importProducts" checked>
                                <label for="importProducts">Productos</label>
                            </div>
                            <div class="import-option">
                                <input type="checkbox" id="importCustomers" checked>
                                <label for="importCustomers">Clientes</label>
                            </div>
                            <div class="import-option">
                                <input type="checkbox" id="importSuppliers" checked>
                                <label for="importSuppliers">Proveedores</label>
                            </div>
                            <div class="import-option">
                                <input type="checkbox" id="importOrders" checked>
                                <label for="importOrders">Órdenes</label>
                            </div>
                            <div class="import-option">
                                <input type="checkbox" id="importInventory" checked>
                                <label for="importInventory">Inventario</label>
                            </div>
                            <div class="import-option">
                                <input type="checkbox" id="importBusiness" checked>
                                <label for="importBusiness">Configuración del negocio</label>
                            </div>
                        </div>
                        
                        <input type="file" id="importFileInput" style="display: none;" accept=".json">
                        
                        <div class="form-group" style="margin-top: 30px;">
                            <button type="submit" class="btn btn-primary" style="width: 100%;">
                                <i class="fas fa-save"></i> Guardar Configuración
                            </button>
                        </div>
                        <hr style="margin: 30px 0;">

<!-- Agrega esta sección justo después del <hr> -->
<h3>Uso de Almacenamiento</h3>
<div class="storage-meter-container">
    <div class="storage-info">
        <div class="storage-progress">
            <div class="progress-bar" id="storageProgressBar"></div>
        </div>
        <div class="storage-details">
            <div class="storage-usage">
                <i class="fas fa-database"></i>
                <span id="storageUsed">0 KB</span> / 5 MB
            </div>
            <div class="storage-percentage" id="storagePercentage">0%</div>
        </div>
    </div>
    <div class="storage-breakdown" id="storageBreakdown">
        <!-- El desglose por tipo de datos se cargará aquí -->
    </div>
    <div class="storage-actions">
        <!-- <button type="button" class="btn btn-sm btn-secondary" id="optimizeStorageBtn" title="Optimizar espacio de almacenamiento">
            <i class="fas fa-magic"></i> Optimizar
        </button> -->
        <button type="button" class="btn btn-sm btn-secondary" id="calculateStorageBtn" title="Recalcular uso de almacenamiento">
            <i class="fas fa-sync-alt"></i> Recalcular
        </button>
    </div>
        <h4>Análisis de datos almacenados</h4>
        <button class="btn btn-sm btn-secondary" id="refreshStorageAnalysisBtn">
            <i class="fas fa-sync-alt"></i> Reanalizar
        </button>
    </div>
    
    <div class="storage-analysis" id="storageAnalysis">
        <div class="analysis-loading">
            <i class="fas fa-spinner fa-spin"></i> Analizando datos...
        </div>
    </div>
    
    <div class="cleaner-actions" id="cleanerActions" style="display: none;">
        <h4>Acciones de limpieza:</h4>
        <div class="action-buttons">
            <button class="btn btn-sm btn-warning" id="cleanDuplicatesBtn">
                <i class="fas fa-copy"></i> Eliminar duplicados
            </button>
            <button class="btn btn-sm btn-warning" id="cleanOldOrdersBtn">
                <i class="fas fa-calendar-times"></i> Limpiar órdenes antiguas
            </button>
            <button class="btn btn-sm btn-danger" id="cleanAllBtn">
                <i class="fas fa-trash"></i> Limpieza profunda
            </button>
        </div>
    </div>
</div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Modal de detalles de orden -->
        <div class="modal" id="orderDetailModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Detalles de la Orden #<span id="detailOrderId"></span></h2>
                    <button class="btn btn-secondary btn-sm" id="closeOrderDetailModal" title="Cerrar">X</button>
                </div>
                <div class="modal-body">
                    <div id="orderDetailContent">
                        <!-- Los detalles de la orden se cargarán aquí dinámicamente -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Pantalla de bienvenida (solo para primer uso) -->
        <div class="modal active" id="welcomeModal">
            <div class="modal-content">
                <div class="welcome-screen">
                    <div class="logo-preview">
                        <span>S</span>
                    </div>
                    <h1>¡Bienvenido a Snack Orders!</h1>
                    <p>Configura tu sistema de comandas para comenzar a gestionar pedidos de manera eficiente.</p>
                    <p>Primero, necesitamos algunos datos básicos de tu negocio.</p>
                    
                    <form id="welcomeForm" style="text-align: left; margin-top: 30px;">
                        <div class="form-group">
                            <label for="welcomeBusinessName">Nombre de tu negocio *</label>
                            <input type="text" id="welcomeBusinessName" class="form-control" required placeholder="Ej: Snacks Deliciosos">
                        </div>
                        
                        <div class="form-group">
                            <label for="welcomeWhatsApp">Número de WhatsApp *</label>
                            <input type="text" id="welcomeWhatsApp" class="form-control" required placeholder="+52 123 456 7890">
                        </div>
                        
                        <div class="form-group">
                            <button type="submit" class="btn btn-primary" style="width: 100%;">
                                <i class="fas fa-check"></i> Comenzar a usar el sistema
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Notificación -->
        <div class="notification" id="notification">
            <i class="fas fa-check-circle"></i>
            <span id="notificationText">Operación realizada con éxito</span>
        </div>
    </div>
<script src="modules/utilities.js"></script>
<script src="modules/data-manager.js"></script>
<script src="modules/ui-manager.js"></script>
<script src="modules/products-manager.js"></script>
<script src="modules/customers-manager.js"></script>
<script src="modules/orders-manager.js"></script>
<script src="modules/config-manager.js"></script>
<script src="modules/inventory-manager.js"></script>
<script src="modules/suppliers-manager.js"></script>
<script src="modules/purchase-orders-manager.js"></script>
<script src="modules/reports-manager.js"></script>
<script src="modules/storage-cleaner.js"></script>
<script src="main.js"></script>
</body>
</html>